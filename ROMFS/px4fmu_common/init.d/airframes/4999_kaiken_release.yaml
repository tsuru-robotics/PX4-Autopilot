# Reference Kaiken parameters for Release

IMU_DGYRO_CUTOFF: 50
IMU_GYRO_CUTOFF: 90

# DShot
PWM_MAIN_TIM0: -5
PWM_MAIN_FUNC1: 101
PWM_MAIN_FUNC2: 102
PWM_MAIN_FUNC3: 103
PWM_MAIN_FUNC4: 104
DSHOT_MIN: 0.075

# Rotors
CA_ROTOR_COUNT: 4
CA_ROTOR0_PX: 0.15
CA_ROTOR0_PY: 0.15
CA_ROTOR1_PX: -0.15
CA_ROTOR1_PY: -0.15
CA_ROTOR2_PX: 0.15
CA_ROTOR2_PY: -0.15
CA_ROTOR2_KM: -0.05
CA_ROTOR3_PX: -0.15
CA_ROTOR3_PY: 0.15
CA_ROTOR3_KM: -0.05

# Smart battery
BAT1_N_CELLS: 2
BAT1_SOURCE: 1
BAT_LOW_THR: 0.15
BAT_CRIT_THR: 0.07
BAT_EMERGEN_THR: 0.05

# Sensors & Calibration
CAL_MAG0_ROT: 12
CAL_MAG0_ID: 527625
CAL_MAG0_PRIO: 100
CAL_MAG1_ID: 0
CAL_MAG1_PRIO: 0
SENS_MAG_AUTOROT: 0
CAL_MAG_SIDES: 63
SENS_MAG_SIDES: 63
SENS_BOARD_ROT: 6
SENS_BOARD_X_OFF: 0.001
SENS_BOARD_Y_OFF: 0.001
EKF2_ABL_LIM: 0.4
EKF2_GPS_POS_Z: 0.0
EKF2_GPS_P_GATE: 5
EKF2_GPS_P_NOISE: 0.3
EKF2_GPS_V_NOISE: 0.3
EKF2_HGT_REF: 1
EKF2_REQ_HDRIFT: 0.05
EKF2_REQ_VDRIFT: 0.05
GPS_UBX_DYNMODEL: 7
GPS_1_CONFIG: 201

# RC
COM_FLTMODE1: 8
COM_FLTMODE2: 8
COM_FLTMODE3: 1
COM_FLTMODE4: 1
COM_FLTMODE5: 2
COM_FLTMODE6: 2
RC1_MAX: 2005
RC1_MIN: 982
RC1_TRIM: 1495
RC2_MAX: 2005
RC2_MIN: 982
RC2_TRIM: 1495
RC3_MAX: 2005
RC3_MIN: 982
RC3_TRIM: 982
RC4_MAX: 2005
RC4_MIN: 982
RC4_TRIM: 1495
RC5_MAX: 2005
RC5_MIN: 982
RC5_TRIM: 1495
RC6_MAX: 2005
RC6_MIN: 982
RC6_TRIM: 1495
RC7_MAX: 2005
RC7_MIN: 982
RC7_TRIM: 1495
RC_CHAN_CNT: 18
RC_MAP_FLTMODE: 5
RC_MAP_PITCH: 1
RC_MAP_POSCTL_SW: 0
RC_MAP_RATT_SW: 0
RC_MAP_RETURN_SW: 0
RC_MAP_ROLL: 2
RC_MAP_STAB_SW: 0
RC_MAP_THROTTLE: 3
RC_MAP_YAW: 4

# Failsafes
COM_LOW_BAT_ACT: 0
GF_ACTION: 5 # Land mode
GF2_ACTION: 4 # Terminate
GF_ALTMODE: 0
GF_COUNT: -1
GF_SOURCE: 1
COM_FAIL_ACT_T: 0
RTL_CONE_ANG: 0
RTL_DESCEND_ALT: 6
RTL_LAND_DELAY: 5.0
RTL_MIN_DIST: 0.0
RTL_RETURN_ALT: 10
RTL_TYPE: 0
RTL_TIME_MARGIN: -1
RTL_TIME_FACTOR: 0
COM_OBL_RC_ACT: 4
COM_POSCTL_NAVL: 1 # Land/Descend

# PID Tuning
MC_PITCHRATE_D: 0.002
MC_PITCHRATE_I: 0.2
MC_PITCHRATE_K: 1
MC_PITCHRATE_MAX: 220
MC_PITCHRATE_P: 0.1
MC_PITCH_P: 6.5
MC_ROLLRATE_D: 0.002
MC_ROLLRATE_K: 1
MC_ROLLRATE_MAX: 220
MC_ROLLRATE_P: 0.1
MC_ROLL_P: 6.5
MC_YAWRATE_MAX: 60
MC_YAWRATE_P: 0.2
MC_YAW_P: 2.5
THR_MDL_FAC: 0.3

# Navigation Tuning & Speeds
MPC_MANTHR_MIN: 0.08
MPC_MAN_TILT_MAX: 35
MPC_POS_MODE: 0
MPC_THR_HOVER: 0.50
MPC_TILTMAX_AIR: 45
MPC_XY_CRUISE: 5
MPC_XY_P: 0.95
MPC_XY_VEL_MAX: 10
MPC_YAWRAUTO_MAX: 45
MPC_Z_VEL_MAX_UP: 3
MPC_OB_SP_DELAY: 350
NAV_ACC_RAD: 1.2
NAV_RCL_ACT: 0
LNDMC_ROT_MAX: 80
LNDMC_TRIG_TIME: 1

# Landing
MPC_Z_VEL_MAX_DN: 3
MPC_LAND_SPEED: 0.3
MPC_LAND_ALT1: 10
MPC_LAND_ALT2: 1

# Logging
SDLOG_DIRS_MAX: 0
SDLOG_MISSION: 3
SDLOG_MODE: 1
SDLOG_PROFILE: 2048
SDLOG_UTC_OFFSET: 0

# Circuit Breaker
CBRK_FLIGHTTERM: 0 # Termination enabled
CBRK_IO_SAFETY: 22027
CBRK_SUPPLY_CHK: 894281

# Commander
COM_ARM_WO_GPS: 0
COM_DISARM_LAND: 2
COM_DISARM_PRFLT: 15.0
COM_ARM_EKF_YAW: 0.5
COM_RCL_EXCEPT: 4

# Mavlink
MAV_2_MODE: 1
SER_WIFI_BAUD: 460800

# RTCM channels
GPS_RTCM_LORA_ID: 25
GPS_RTCM_WIFI_ID: 26

# Magnetometer
EKF2_MAG_MIN_ALT: -1.0

# Path Control
PC_ACTION: 0 # Disabled
PC_ACCEPT_R: 10.0
